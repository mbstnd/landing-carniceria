---
interface Product {
  id: string
  title: string
  description: string
  image: string
  items: {
    name: string
    image: string
  }[]
}

const products: Product[] = [
  {
    id: "vacuno",
    title: "Vacuno",
    description: "Los mejores cortes de carne vacuna seleccionados",
    image: "/img/products/vacuno.webp",
    items: [
      {
        name: "Lomo",
        image: "/img/products/items/vacuno/lomo-vetado.webp",
      },
      { name: "Costilla", image: "/img/products/items/vacuno/coluda.webp" },
      { name: "Bife", image: "/img/products/items/vacuno/filete.webp" },
      {
        name: "Asado",
        image: "/img/products/items/vacuno/asado-carnicero.webp",
      },
    ],
  },
  {
    id: "cerdo",
    title: "Cerdo",
    description: "Cortes frescos de cerdo de primera calidad",
    image: "/img/products/cerdo.webp",
    items: [
      {
        name: "Chuleta",
        image: "/img/products/items/cerdo/chuleta-vetada.webp",
      },
      {
        name: "Costilla",
        image: "/img/products/items/cerdo/costillar-de-cerdo.jpg",
      },
      {
        name: "Panceta",
        image: "/img/products/items/cerdo/paleta-de-cerdo.webp",
      },
      {
        name: "Bondiola",
        image: "/img/products/items/cerdo/chuleta-centro.webp",
      },
    ],
  },
  {
    id: "ave",
    title: "Ave",
    description: "Aves frescas y procesadas",
    image: "/img/products/pollo.webp",
    items: [
      {
        name: "Pollo entero",
        image: "/img/products/items/ave/pechuga-entera.webp",
      },
      { name: "Pechuga", image: "/img/products/items/ave/pechuga-entera.webp" },
      {
        name: "Pata y muslo",
        image: "/img/products/items/ave/tutro-entero.webp",
      },
      { name: "Alitas", image: "/img/products/items/ave/tutro-ala.webp" },
    ],
  },
  {
    id: "huesos",
    title: "Huesos",
    description: "Huesos frescos para caldos y sopas",
    image: "/img/products/hueso.webp",
    items: [
      {
        name: "Huesos para caldo",
        image: "/img/products/items/huesos/caldo.jpg",
      },
      { name: "Osobuco", image: "/img/products/items/huesos/osobuco.jpg" },
      {
        name: "Huesos con carne",
        image: "/img/products/items/huesos/con-carne.jpg",
      },
    ],
  },
  {
    id: "interiores",
    title: "Interiores",
    description: "Interiores frescos seleccionados",
    image: "/img/products/interiores.webp",
    items: [
      { name: "Hígado", image: "/img/products/items/interiores/higado.jpg" },
      { name: "Riñón", image: "/img/products/items/interiores/rinon.jpg" },
      {
        name: "Mondongo",
        image: "/img/products/items/interiores/mondongo.jpg",
      },
      { name: "Lengua", image: "/img/products/items/interiores/lengua.jpg" },
    ],
  },
  {
    id: "embutidos",
    title: "Embutidos",
    description: "Embutidos artesanales de calidad",
    image: "/img/products/embutidos.webp",
    items: [
      { name: "Chorizo", image: "/img/products/items/embutidos/chorizo.jpg" },
      { name: "Morcilla", image: "/img/products/items/embutidos/morcilla.jpg" },
      {
        name: "Salchicha",
        image: "/img/products/items/embutidos/salchicha.jpg",
      },
      { name: "Salame", image: "/img/products/items/embutidos/salame.jpg" },
    ],
  },
]
---

<section id="productos" class="py-24 bg-background">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center text-white mb-12">
      Nuestros Productos
    </h2>

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-[25rem] md:auto-rows-[15rem] max-w-7xl mx-auto"
    >
      {
        products.map(({ id, title, description, image, items }, index) => (
          <a
            href={`/productos/${id}`}
            class:list={[
              "rounded-xl overflow-hidden relative group cursor-pointer",
              index === 0 ? "md:col-span-2 md:row-span-2" : "",
              "bg-gradient-to-b from-transparent to-black/50",
            ]}
          >
            <img
              src={image}
              alt={title}
              loading="lazy"
              class="w-full h-full object-cover absolute inset-0 z-0 transition-transform duration-700 group-hover:scale-110"
            />

            <div class="relative h-full p-4 md:p-6 flex flex-col justify-end z-10">
              <h3 class="text-2xl md:text-3xl font-bold text-white mb-2">
                {title}
              </h3>
              <p class="text-gray-200 text-sm md:text-base opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                {description}
              </p>

              <div class="grid grid-cols-2 gap-2 mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                {items.slice(0, 4).map((item) => (
                  <div class="flex items-center gap-2 bg-black/30 px-2 py-1 rounded">
                    <img
                      src={item.image}
                      alt={item.name}
                      width="32"
                      height="32"
                      loading="lazy"
                      class="w-8 h-8 object-cover rounded"
                      onerror="this.style.display='none'"
                    />
                    <span class="text-xs md:text-sm text-white">
                      {item.name}
                    </span>
                  </div>
                ))}
              </div>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</section>
<style>
  section {
    min-height: 100vh;
  }

  .container {
    max-width: 1400px;
  }

  @media (max-width: 768px) {
    .grid {
      grid-template-columns: 1fr;
      auto-rows: 20rem;
    }

    article {
      grid-column: span 1 !important;
      grid-row: span 1 !important;
    }
  }
</style>
