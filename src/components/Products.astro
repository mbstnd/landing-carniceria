---
import { products } from "@/data/products"
---

<section id="productos" class="py-24 bg-background">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center text-white mb-12">
      Nuestros Productos
    </h2>

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-[25rem] md:auto-rows-[15rem] max-w-7xl mx-auto"
    >
      {
        products.map(({ id, title, description, image, items }, index) => (
          <a
            href={`/productos/${id}`}
            class:list={[
              "rounded-xl overflow-hidden relative group cursor-pointer",
              index === 0 ? "md:col-span-2 md:row-span-2" : "",
              "bg-gradient-to-b from-transparent to-black/50",
            ]}
          >
            <img
              src={image}
              alt={title}
              loading="lazy"
              class="w-full h-full object-cover absolute inset-0 z-0 transition-transform duration-700 group-hover:scale-110"
            />

            <div class="relative h-full p-4 md:p-6 flex flex-col justify-end z-10">
              <h3 class="text-2xl md:text-3xl font-bold text-gray-50 mb-2 drop-shadow-lg">
                {title}
              </h3>
              <p class="text-gray-100 text-sm md:text-base opacity-0 group-hover:opacity-100 transition-opacity duration-300 drop-shadow-md bg-black/40 p-2 rounded">
                {description}
              </p>
              <div class="grid grid-cols-2 gap-2 mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                {items.slice(0, 4).map((item) => (
                  <div class="flex items-center gap-2 bg-black/30 px-2 py-1 rounded">
                    <img
                      src={item.image}
                      alt={item.name}
                      width="32"
                      height="32"
                      loading="lazy"
                      class="w-8 h-8 object-cover rounded"
                      onerror="this.style.display='none'"
                    />
                    <span class="text-xs md:text-sm text-white">
                      {item.name}
                    </span>
                  </div>
                ))}
              </div>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</section>
<style>
  section {
    min-height: 100vh;
  }

  .container {
    max-width: 1400px;
  }

  @media (max-width: 768px) {
    .grid {
      grid-template-columns: 1fr;
      auto-rows: 20rem;
    }

    article {
      grid-column: span 1 !important;
      grid-row: span 1 !important;
    }
  }
</style>
